<style>
    .modal-fullscreen {
        width: 95%;
        height: 95%;
    }
    </style>
<script>
    module = angular.module('Profireader', ['ui.bootstrap']);
    module.controller('filemanagerCtrl', ['$scope', '$modal',  function($scope, $modal) {
    }]);

    module.controller('UserLoginController', ['$scope', '$modal',  function($scope, $modal) {
        $scope.user = {{ user|tojson|safe }};

        $scope.open_filemanager = function() {
var modalInstance = $modal.open({
            templateUrl: 'filemanager.html',
            controller: 'filemanagerCtrl',
            size: 'fullscreen',
            resolve: {
                url: function () {
                  return '';
                }
            }
        });

        modalInstance.result.then(function () {}, function () {
            console.log('Modal dismissed at: ' + new Date());
        });
    };
    }]);

</script>
            <span ng-controller="UserLoginController" class="topbar-menu-links">
                <script type="text/ng-template" id="filemanager.html">
                    <iframe style="border: none; margin: 0px; padding: 0px; width: 100%; height: 100%" src="/filemanager/"></iframe>
                </script>
                <!-- ng-cloak: https://docs.angularjs.org/api/ng/directive/ngCloak-->
                <span ng-cloak ng-hide="{{ '{{' }}user.id{{ '}}' }}">
                    <a href="{{ url_for('auth.login') }}">log in</a>
                    <a href="{{ url_for('auth.signup') }}">signup</a>
                </span>
                <span ng-cloak ng-show="{{ '{{' }}user.id{{ '}}' }}">
                    <ul>
                        <li class="dropdown">
                            <a href="#" data-toggle="dropdown">
                                <img src="{{ current_user.gravatar(size=18) }}">
                                {{ '{{' }} user.name {{ '}}' }}
                                <b class="caret"></b>
                            </a>
                            <ul>
                                <li><a href="{{ flask_endpoint_to_angular('user.profile', user_id='user.id') }}">{{ '{{' }} user.name {{ '}}' }} Profile</a></li>
                                <li><a href="{{ url_for('auth.change_password') }}">Change Password</a></li>
                                <li><a href="{{ url_for('auth.change_email_request') }}">Change Email</a></li>
                                <li><a href="{{ url_for('company.show_company') }}">company</a></li>
                                <li><a href="{{ url_for('auth.logout') }}">Log Out</a></li>
                            </ul>
                        </li>
                    </ul>
                </span>
                <a href="">tour</a>
                <a href="">about us</a>
                <a href="#" ng-click="open_filemanager()">file manager</a>
            </span>
