<ul class="pager">
    <li class="previous">
        {% if current_page != 1 %}
        <a href="{{ url_page(page=current_page - 1) }}"></a>
        {% else %}
        {% endif %}
    </li>

    {% if current_page != 1 %}
        <li>
            <a href="{{ url_page(page=1) }}">{{ 1 }}</a>
        </li>
    {% endif %}

    {% if current_page - page_buttons > 2 %}
        <li>
            ...
        </li>
    {% endif %}

    {% for button in range(page_buttons)|reverse %}
        {% if current_page - (button + 1) > 1 %}
            <li>
                <a href="{{ url_page(page=current_page - (button + 1)) }}">{{ current_page - (button + 1) }}</a>
            </li>
        {% endif %}
    {% endfor %}
    <li class="current-page">
        <a href="{{ url_page(page=current_page) }}">{{ current_page }}</a>
    </li>
    {% for button in range(page_buttons) %}
        {% if current_page + (button + 1)< pages %}
    <li>
        <a href="{{ url_page(page=current_page + (button + 1)) }}">{{ current_page + (button + 1) }}</a>
    </li>
        {% endif %}
    {% endfor %}
    {% if current_page + page_buttons < pages - 1 %}
        <li>
            ...
        </li>
    {% endif %}
    {% if current_page != pages %}
        <li>
            <a href="{{ url_page(page=pages) }}">{{ pages }}</a>
        </li>
    {% endif %}

    <li class="next">
        {% if current_page != pages %}
        <a href="{{ url_page(page=current_page + 1) }}"></a>
        {% else %}
        {% endif %}
    </li>
</ul>
