{# TODO (AA to AA): this function have to be runned when event 'onload' happend. However, this event never happend. Why? How to fix it? #}
<script>
function display(id, tags_list){
    if (tags_list) {
      document.getElementById(id).style.display= 'block';
    }
}
</script>

{% for article_id in articles %}
    <div class="block-item list-elements">
        <div class="item-type article">
            <a href="http://{{ articles[article_id]['portal']['host']|safe }}/{{ articles[article_id]['division']['name'] }}/1/?search_text=">{{ articles[article_id]['division']['name']|safe }}</a>
        </div>
        <h2 class="item-title">
            <a href="http://{{ articles[article_id]['portal']['host']|safe }}/details/{{ article_id }}">{{ articles[article_id]['title']|safe }}</a>
            <span id="{{ article_id }}" class="tag-in-article" onload="display('{{ article_id }}', {{ articles[article_id]['tags'] }})">
                {% for tag in articles[article_id]['tags'] %}
                    <a href="#">{{ tag }}</a>
                {% endfor %}
            </span>
        </h2>
        <div class="item-short-content">
            <p>{{ articles[article_id]['short']|safe }}</p>
        </div>
        <div class="item-additional-info">
            <a href="http://{{ articles[article_id]['portal']['host']|safe }}/_c/{{ articles[article_id]['company']['id']|safe }}/{{ articles[article_id]['company']['name']|safe }}" class="item-company">{{ articles[article_id]['company']['name']|safe }}</a>
            <div class="item-publication-date">{{ articles[article_id]['publishing_tm']|safe }}</div>
        </div>
        <div class="bottom-hide"></div>
        <img src="/static/images/0.gif" class="block-item-img" style="background-image: url({{ fileUrl(articles[article_id]['image_file_id']) }})"/>
    </div>
{% endfor %}
