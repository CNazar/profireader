<script>
    module.controller('article_edit', ['$scope', '$ok', '$translate', function ($scope, $ok, $translate) {
        {{ translate_()|safe }}
{#        $scope.edit_version = {{ edit_version|safe }};#}
        {#            $scope.save_article = {{ raw_url_for('article.show_form_update')|safe }};#}


    }]);
</script>

<div ng-controller="article_edit">
<div ng-if="loading">Loading...</div>
<div ng-if="!loading">
    <>
</div>
{##}
{#    <h2>#}
{#        {{#}
{#        edit_version.id?#}
{#        _('update version of article for company `%(article.mine.title)s`', company):#}
{#        _('update your own article copy `%(article.mine.title)s`', company)#}
{#        }}#}
{#    </h2>#}
{##}
{##}
{#    <form action="{% if edit_version.id %}{{ url_for('article.update', article_company_id = edit_version.id) }}{% else %}{{ url_for('article.create') }}{% endif %}"#}
{#          onsubmit="return AjaxPost()" id="edit" method="post">#}
{##}
{#        <p>Article title<br/><input type="text" id="title" placeholder="title" name="title"#}
{#                                    value="{{ edit_version.title }}"></p>#}
{##}
{#        <p>Short Description<br/><textarea id="short" placeholder="short"#}
{#                                           name="short">{{ edit_version.short }}</textarea></p>#}
{##}
{#        <p>Full text<br/><textarea id="full" placeholder="text" name="long">{{ edit_version.long }}</textarea></p>#}
{##}
{#        <input type="submit" value="{% if edit_version.id %}save{% else %}create{% endif %}">#}
{#    </form>#}
{#</div>#}
{##}
{##}
{#<script>#}
{#    tinymce.init({#}
{#        image_advtab: true,#}
{#        width: 500,#}
{#        selector: "#full",#}
{#        plugins: [#}
{#            "advlist autolink autosave link image lists charmap print preview hr anchor pagebreak spellchecker",#}
{#            "searchreplace wordcount visualblocks visualchars code fullscreen insertdatetime media nonbreaking",#}
{#            "table contextmenu directionality emoticons template textcolor paste fullpage textcolor"#}
{#        ],#}
{#        toolbar1: "bold italic underline strikethrough | alignleft aligncenter alignright alignjustify | styleselect formatselect fontselect fontsizeselect",#}
{#        toolbar2: "cut copy paste | searchreplace | bullist numlist | outdent indent blockquote | undo redo | link unlink anchor image media code | inserttime preview | forecolor backcolor",#}
{#        file_browser_callback: function (field_name, url, type, win) {#}
{#            var cmsURL = '/filemanager/';#}
{#            tinymce.activeEditor.windowManager.open({#}
{#                file: cmsURL,#}
{#                title: 'Select an File',#}
{#                width: 1000,  // Your dimensions may differ - toy around with them!#}
{#                height: 700,#}
{#                resizable: "yes",#}
{#                inline: "yes",  // This parameter only has an effect if you use the inlinepopups plugin!#}
{#                close_previous: "yes"#}
{#            }, {#}
{#                window: win,#}
{#                input: field_name#}
{#            });#}
{#        }#}
{#    });#}
{#</script>#}
</div>