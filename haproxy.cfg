global
    chroot /var/lib/haproxy
    stats socket /run/haproxy/admin.sock mode 660 level admin
    stats timeout 30s
    user haproxy
    group haproxy
    daemon

defaults
    mode	http
        timeout connect 100000
        timeout client  1000000
        timeout server  1000000

listen http-in
    option forwardfor
    option http-server-close
    bind *:80

    server profi 127.0.0.1:8080
    use-server profi if { hdr(host) -i profi.ntaxa.com }

    server rodynnifirmy 127.0.0.1:8081
    use-server rodynnifirmy if { hdr(host) -i rodynnifirmy.profi.ntaxa.com }

    server derevoobrobka 127.0.0.1:8082
    use-server derevoobrobka if { hdr(host) -i derevoobrobka.profi.ntaxa.com }

    server viktor 127.0.0.1:8083
    use-server viktor if { hdr(host) -i viktor.profi.ntaxa.com }

    server oles 127.0.0.1:8084
    use-server oles if { hdr(host) -i oles.profi.ntaxa.com }

    server aa 127.0.0.1:8085
    use-server aa if { hdr(host) -i aa.profi.ntaxa.com }

    server md 127.0.0.1:8086
    use-server md if { hdr(host) -i md.profi.ntaxa.com }

    server oleh 127.0.0.1:8087
    use-server oleh if { hdr(host) -i oleh.profi.ntaxa.com }

    server filemanager 127.0.0.1:9001
    use-server filemanager if { hdr(host) -i file001.profi.ntaxa.com }

